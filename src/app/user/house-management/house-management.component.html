<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" id="bootstrap-css" rel="stylesheet">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<!------ Include the above in your HEAD tag ---------->

<!DOCTYPE html>
<html lang="en">
<head>

  <meta content="width=device-width, initial-scale=1" name="viewport">

  <title>eCommerce Product Detail</title>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">

</head>
<div class="bodyHome">
  <div class="container">
    <div class="card">
      <div>
        <div class="wrapper row">
          <div class="preview col-md-6">
            <div class="preview-pic tab-content">
              <div class="box1">
                <div class="form-group files" style=" width: 100%; height: 400px">
                  <input #selectFile1 (change)="onFileUpload($event,0)" id="1" style="display: none" type="file">
                  <div *ngIf="imagePreview[0] === undefined " class="image-preview ">
                    <h3 class="title">Williamson</h3>
                    <ul class="icon">
                      <li><a (click)="selectFile1.click()"><i
                        class="fa fa-cloud-upload"></i></a></li>
                    </ul>
                  </div>

                  <div *ngIf="imagePreview[0] !== undefined " class="image-preview ">
                    <img [src]="imagePreview[0].image" height="50%" width="100%">
                    <h3 class="title">Williamson</h3>
                    <ul class="icon">
                      <li><a (click)="onDelete(imagePreview[0].id)"><i
                        class="fa fa-close"></i></a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <ul class="preview-thumbnail nav nav-tabs">
              <li *ngFor="let indexOfChildImage of INDEXCHILDIMAGES">
                <a data-target="#pic-1" data-toggle="tab">
                  <div class="box1">
                    <div class="form-group files" style=" width: 80px; height: 40px">
                      <input #selectFile2 (change)="onFileUpload($event,indexOfChildImage)" id="2"
                             style="display: none"
                             type="file">
                      <div *ngIf="imagePreview[indexOfChildImage] === undefined " class="image-preview ">
                        <h3 class="title">Williamson</h3>
                        <ul class="icon">
                          <li><a (click)="selectFile2.click()"><i
                            class="fa fa-cloud-upload"></i></a></li>
                        </ul>
                      </div>

                      <div *ngIf="imagePreview[indexOfChildImage] !== undefined " class="image-preview ">
                        <!--                          <div class="box1">-->
                        <img [src]="imagePreview[indexOfChildImage].image" height="50%" width="100%">
                        <h3 class="title">Williamson</h3>
                        <ul class="icon">
                          <li><a (click)="onDelete(imagePreview[indexOfChildImage].id)"><i
                            class="fa fa-close"></i></a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </a>
              </li>

            </ul>


          </div>
          <div class="details col-md-6">
            <h2 class="product-title">Create House</h2>
            <form (ngSubmit)="createHouse()" [formGroup]="formHouseData" class="font">
              <div class="row">
                <div class="col-md-4">
                  <label class="name">Name :</label></div>
                <div class="col-md-8">
                  <input class="form-control" formControlName="name" id="name" name="name"
                         placeholder="Enter name house"
                         type="text">
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <label class="categories home">Categories home :</label></div>
                <div class="col-md-8">
                  <select class="form-control form-control-sm" formControlName="categories" id="categories"
                          name="categories"
                          style="width:100%;">
                    <option *ngFor="let cate of listCateGories" [ngValue]="cate">{{cate.name}}</option>
                  </select>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <label class="address">Address :</label></div>
                <div class="col-md-8">
                  <input class="form-control" formControlName="address" id="address" name="address"
                         placeholder="Enter address house "
                         type="text">
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <label class="bathroom">Bathroom :</label></div>
                <div class="col-md-8">
                  <input class="form-control" formControlName="quantityBathroom" id="bathroom" name="bathroom"
                         placeholder="Enter bathroom in house "
                         type="number">
                </div>
              </div>


              <div class="row">
                <div class="col-md-4">
                  <label class="bedroom">Bedroom :</label></div>
                <div class="col-md-8">
                  <input class="form-control" formControlName="quantityBedroom" id="bedroom" name="bedroom"
                         placeholder="Enter bedroom in house "
                         type="number">
                </div>
              </div>


              <div class="row">
                <div class="col-md-4">
                  <label class="description">Description :</label></div>
                <div class="col-md-8">
              <textarea class="form-control" formControlName="description" id="description"
                        placeholder="Enter description "
                        type="textarea"></textarea>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <label class="price">Price/night :</label></div>
                <div class="col-md-6">
                  <input class="form-control" formControlName="price" id="price" name="price" placeholder="Enter price "
                         step="0.01"
                         type="text">
                </div>
                <div class="col-md-2">
                  <p class="form-control form-control-sm">
                    USD
                  </p>
                </div>
              </div>
              <div *ngIf="formHouseData.get('name').invalid&& formHouseData.get('name').touched"
                   class="alert alert-danger">
                Name is required and min length is 3
              </div>
              <div *ngIf="formHouseData.get('categories').invalid&& formHouseData.get('categories').touched"
                   class="alert alert-danger">
                Categories is required
              </div>
              <div *ngIf="formHouseData.get('address').invalid&& formHouseData.get('address').touched"
                   class="alert alert-danger">
                Address is required and min length is 3
              </div>
              <div *ngIf="formHouseData.get('quantityBathroom').invalid&& formHouseData.get('quantityBathroom').touched"
                   class="alert alert-danger">
                QuantityBathroom is required and min is 1
              </div>
              <div *ngIf="formHouseData.get('quantityBedroom').invalid&& formHouseData.get('quantityBedroom').touched"
                   class="alert alert-danger">
                QuantityBedroom is required and min is 1
              </div>
              <div *ngIf="formHouseData.get('description').invalid&& formHouseData.get('description').touched"
                   class="alert alert-danger">
                Description is required and min length is 10
              </div>
              <div *ngIf="formHouseData.get('price').invalid&& formHouseData.get('price').touched"
                   class="alert alert-danger">
                Price is required and min is 0
              </div>
              <div *ngIf="createFail" class="alert alert-danger">
                Create Failed
              </div>

              <div class="action">
                <button class="btn btn-success" type="submit">Create</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container" style="margin-top: 20px; font-family: 'Abyssinica SIL' ">
  <h2 class="product-title text-center">List House</h2>
  <div class="row">
    <div class="table-responsive align-center">
      <div class="table table-bordred table-striped" id="homeTable">
        <table class="text-center" id="tableform">
          <tr class="font-weight-bold">
            <td>No.</td>
            <td>Name</td>
            <td class="col-md-3">Address</td>
            <td class="col-md-2">Categories Home</td>
            <td>Bathroom</td>
            <td>Bedroom</td>
            <td>Price (USD)</td>
            <td></td>
          </tr>
          <tbody *ngIf="listhouse !== null">
          <tr
            *ngFor="let house of listhouse | filter: filter | paginate: { itemsPerPage: 5, currentPage: p}; index as i ">
            <td>{{i + 1}}</td>
            <td>{{house.name}}</td>
            <td>{{house.address}}</td>
            <td>{{house.categories.name}}</td>
            <td>{{house.quantityBathroom}}</td>
            <td>{{house.quantityBedroom}}</td>
            <td>{{house.price}}</td>
            <td style="width: 20%;">
              <a [routerLink]="['/houses/edit',house.id]" class="table-link danger">
									<span class="fa-stack edit">
										<i class="fa fa-square fa-stack-2x"></i>
										<i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
									</span>
              </a>
              <a (click)="onDelete(house)" class="table-link danger">
									<span class="fa-stack delete">
										<i class="fa fa-square fa-stack-2x"></i>
										<i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
									</span>
              </a>
            </td>
          </tr>
          </tbody>
        </table>
        <ul class="pagination">
          <pagination-controls (pageChange)="p = $event"></pagination-controls>
        </ul>
      </div>
    </div>
  </div>
</div>
</html>

